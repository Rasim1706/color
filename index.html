<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <title>JS</title>
  </head>
  <body>
    <div class="app">
      <div class="box image">
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/4/49/Elon_Musk_2015.jpg"
          alt=""
          id="img"
        />
        <p>Вставьте ссылку на картинку</p>
        <div class="input">
          <input
            id="img-url"
            type="text"
            placeholder="Введите URL картинки"
            value="https://upload.wikimedia.org/wikipedia/commons/4/49/Elon_Musk_2015.jpg"
          />
        </div>
      </div>
      <div class="box settings">
        <div class="sliders">
          <div class="slider">
            <label for="grayscale">Оттенки серого</label>
            <input type="range" min="0" max="100" value="0" id="grayscale" />
          </div>

          <div class="slider">
            <label for="contrast">Контраст</label>
            <input type="range" min="50" max="200" value="100" id="contrast" />
          </div>

          <div class="slider">
            <label for="brightness">Яркость</label>
            <input
              type="range"
              min="50"
              max="200"
              value="100"
              id="brightness"
            />
          </div>

          <div class="slider">
            <label for="sepia">Сепия</label>
            <input type="range" min="0" max="100" value="0" id="sepia" />
          </div>

          <div class="slider">
            <label for="saturate">Насыщенность</label>
            <input type="range" min="0" max="200" value="100" id="saturate" />
          </div>
        </div>
        <div class="buttons">
          <button class="btn" id="reset" disabled>Сбросить</button>
        </div>
      </div>
    </div>
    <script>
      const grayscale = document.querySelector("#grayscale");
      const contrast = document.querySelector("#contrast");
      const brightness = document.querySelector("#brightness");
      const sepia = document.querySelector("#sepia");
      const saturate = document.querySelector("#saturate");
      const img = document.querySelector("#img");
      const reset = document.querySelector("#reset");
      const imgUrl = document.querySelector("#img-url");

      grayscale.addEventListener("input", updateFilterValue);
      contrast.addEventListener("input", updateFilterValue);
      brightness.addEventListener("input", updateFilterValue);
      sepia.addEventListener("input", updateFilterValue);
      saturate.addEventListener("input", updateFilterValue);
      reset.addEventListener("click", resetFilterValue);
      imgUrl.addEventListener("change", updateImgUrl);

      const defaults = {
        grayscale: 0,
        contrast: 100,
        brightness: 100,
        sepia: 0,
        saturate: 100
      };

      function updateFilterValue() {
        reset.disabled = false;
        img.style.filter = `
  grayscale(${grayscale.value}%)
  contrast(${contrast.value}%)
  brightness(${brightness.value}%)
  sepia(${sepia.value}%)
  saturate(${saturate.value}%)
  `;
      }

      function resetFilterValue() {
        img.style.filter = `
  grayscale(${defaults.grayscale}%)
  contrast(${defaults.contrast}%)
  brightness(${defaults.brightness}%)
  sepia(${defaults.sepia}%)
  saturate(${defaults.saturate}%)
  `;

        grayscale.value = defaults.grayscale;
        contrast.value = defaults.contrast;
        brightness.value = defaults.brightness;
        sepia.value = defaults.sepia;
        saturate.value = defaults.saturate;

        reset.disabled = true;
      }
      function updateImgUrl() {
        const imageUrl = imgUrl.value;
        img.setAttribute("src", imageUrl);
      }
    </script>
  </body>
</html>
